<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>DiscordPHP Documentation</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">DiscordPHP Documentation</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -four phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Guide</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/index.html" class="">Guide</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/faq.html" class="">FAQ</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/basics.html" class="-active">Basics</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/events/index.html" class="">Events</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/events/application_commands.html" class="">Application Commands</a>
                
            </li>
                    <li>
                <a href="guide/events/auto_moderations.html" class="">Auto Moderations</a>
                
            </li>
                    <li>
                <a href="guide/events/channels.html" class="">Channels</a>
                
            </li>
                    <li>
                <a href="guide/events/guilds.html" class="">Guilds</a>
                
            </li>
                    <li>
                <a href="guide/events/invites.html" class="">Invites</a>
                
            </li>
                    <li>
                <a href="guide/events/interactions.html" class="">Interactions</a>
                
            </li>
                    <li>
                <a href="guide/events/messages.html" class="">Messages</a>
                
            </li>
                    <li>
                <a href="guide/events/presences.html" class="">Presences</a>
                
            </li>
                    <li>
                <a href="guide/events/stage_instances.html" class="">Stage Instances</a>
                
            </li>
                    <li>
                <a href="guide/events/voices.html" class="">Voices</a>
                
            </li>
                    <li>
                <a href="guide/events/webhooks.html" class="">Webhooks</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/repositories.html" class="">Repositories</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/parts/index.html" class="">Parts</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/parts/guild.html" class="">Guild</a>
                
            </li>
                    <li>
                <a href="guide/parts/channel.html" class="">Channel</a>
                
            </li>
                    <li>
                <a href="guide/parts/member.html" class="">Member</a>
                
            </li>
                    <li>
                <a href="guide/parts/message.html" class="">Message</a>
                
            </li>
                    <li>
                <a href="guide/parts/user.html" class="">User</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/collection.html" class="">Collection</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/permissions.html" class="">Permissions</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/message_builder.html" class="">Message Builder</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/components.html" class="">Message Components</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/interactions.html" class="">Interactions</a>
</h4>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/discord.html" class="">Discord</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/discord-builders.html" class="">Builders</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-commandclient.html" class="">CommandClient</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-exceptions.html" class="">Exceptions</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-factory.html" class="">Factory</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-helpers.html" class="">Helpers</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-parts.html" class="">Parts</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-repository.html" class="">Repository</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-voice.html" class="">Voice</a>
                
            </li>
                    <li>
                <a href="namespaces/discord-websockets.html" class="">WebSockets</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Application.html" class="">Application</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <div class="section" id="basics">
<h1>Basics</h1>
<p>First step is to include the Composer autoload file and <a href="https://www.php.net/manual/en/language.namespaces.importing.php">import</a> any required classes.</p>
<pre><code class="language-php " >&lt;?php

use Discord\Discord;
use Discord\WebSockets\Intents;
use Discord\WebSockets\Event;

include __DIR__.&#039;/vendor/autoload.php&#039;;
</code></pre>
<p>The Discord instance can be set up with an array of options. All are optional except for token:</p>
<pre><code class="language-php " >$discord = new Discord([
    &#039;token&#039; =&gt; &#039;Your-Token-Here&#039;,
    &#039;intents&#039; =&gt; [
        Intents::GUILDS, Intents::GUILD_BANS, // ...
    ],
    // or
    &#039;intents&#039; =&gt; 12345,
    // or
    &#039;intents&#039; =&gt; Intents::getDefaultIntents() | Intents::GUILD_MEMBERS, // default intents as well as guild members
    &#039;loadAllMembers&#039; =&gt; false,
    &#039;storeMessages&#039; =&gt; false,
    &#039;retrieveBans&#039; =&gt; false,
    &#039;pmChannels&#039; =&gt; false,
    &#039;disabledEvents&#039; =&gt; [
        Event::MESSAGE_CREATE, Event::MESSAGE_DELETE, // ...
    ],
    &#039;loop&#039; =&gt; \React\EventLoop\Factory::create(),
    &#039;logger&#039; =&gt; new \Monolog\Logger(&#039;New logger&#039;),
    &#039;dnsConfig&#039; =&gt; &#039;1.1.1.1&#039;,
    &#039;shardId&#039; =&gt; 0,
    &#039;shardCount&#039; =&gt; 5,
]);
</code></pre>
<p><code>token</code> is your Discord token. <strong>Required</strong>.</p>
<p><code>intents</code> can be an array of valid intents <em>or</em> an integer representing the intents. Default is all intents minus any privileged intents. At the moment this means all intents minus <code>GUILD_MEMBERS</code> and <code>GUILD_PRESENCES</code>. To enable these intents you must first enable them in your Discord developer portal.</p>
<p><code>loadAllMembers</code> is a boolean whether all members should be fetched and stored on bot start. Loading members takes a while to retrieve from Discord and store, so default is false. This requires the <code>GUILD_MEMBERS</code> intent to be enabled in DiscordPHP. See above for more details.</p>
<p><code>storeMessages</code> is a boolean whether messages received and sent should be stored. Default is false.</p>
<p><code>retrieveBans</code> is a boolean whether bans should be retrieved on bot load. Default is false.</p>
<p><code>pmChannels</code> is a boolean whether PM channels should be stored on bot load. Default is false.</p>
<p><code>disabledEvents</code> is an array of events that will be disabled. By default all events are enabled.</p>
<p><code>loop</code> is an instance of a ReactPHP event loop that can be provided to the client rather than creating a new loop. Useful if you want to use other React components. By default, a new loop is created.</p>
<p><code>logger</code> is an instance of a logger that implements <code>LoggerInterface</code>. By default, a new Monolog logger with log level DEBUG is created to print to stdout.</p>
<p><code>dnsConfig</code> is an instace of <code>Config</code> or a string of name server address. By default system setting is used and fall back to 8.8.8.8 when system configuration is not found. Currently only used for VoiceClient.</p>
<hr />
<p>The following options should only be used by large bots that require sharding. If you plan to use sharding, <a href="https://discord.com/developers/docs/topics/gateway#sharding">read up</a> on how Discord implements it.</p>
<p><code>shardId</code> is the ID of the bot shard.</p>
<p><code>shardCount</code> is the number of shards that you are using.</p>
<hr />
<p>Gateway events should be registered inside the <code>init</code> event, which is emitted once when the bot first starts and has connected to the gateway.</p>
<p>To register an event we use the <code>$discord->on(...)</code> function, which registers a handler. A list of events is available <a href="https://github.com/discord-php/DiscordPHP/blob/master/src/Discord/WebSockets/Event.php#L30-L75">here</a>. They are described in more detail in further sections of the documentation. All events take a callback which is called when the event is triggered, and the callback is called with an object representing the content of the event and an instance of the <code>Discord</code> client.</p>
<pre><code class="language-php " >$discord-&gt;on(&#039;init&#039;, function (Discord $discord) {

    $discord-&gt;on(Event::MESSAGE_CREATE, function (Message $message, Discord $discord) {
        // ... handle message sent
    });

});

</code></pre>
<p>Finally, the event loop needs to be started. Treat this as an infinite loop.</p>
<pre><code class="language-php " >$discord-&gt;run();
</code></pre>
<p>If you want to stop the bot you can run:</p>
<pre><code class="language-php " >$discord-&gt;close();
</code></pre>
<p>If you want to stop the bot without stopping the event loop, the close function takes a boolean:</p>
<pre><code class="language-php " >$discord-&gt;close(false);</code></pre>
</div>

                <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>